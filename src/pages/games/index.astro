---
import { getAllGames } from "$api/games";
import ContentContainer from "$components/content-container.astro";
import GameCard from "$components/game-card.astro";
import BaseLayout from "$components/layouts/base-layout.astro";
import Section from "$components/section.astro";

const result = await getAllGames();
---

<BaseLayout logoTitle="halfwaypixel //studio" siteMainTitle="Games" theme="games">
  <ContentContainer heading="Published games">
    <p>
      I posted <strong>{result?.games.length}</strong> games on my itch.io page, but actually there's more!
      If you want to know more - contact me!
    </p>
  </ContentContainer>

  <div>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      {result?.games.map((game) => <GameCard game={game} />)}
    </div>
  </div>
</BaseLayout>
