---
import type { Game } from "$api/games";
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";

interface Props {
  game: Game;
}

const { game } = Astro.props;
---

<a
  href={game.url}
  class="rounded-lg overflow-hidden min-h-0 h-full flex flex-col"
  transition:name={game.title}
>
  <Image
    src={game.cover_url}
    alt={game.title}
    width={1280}
    height={320}
    class="object-cover hover:scale-105 transition-all will-change-transform"
  />
  <div class="p-2 bg-surface-hover flex-grow flex flex-col gap-2">
    <h4
      class="font-bold font-heading text-lg tracking-wide text-brand-secondary"
    >
      {game.title}
    </h4>
    <div class="font-semibold flex items-center gap-2">
      {
        game.type === "html" ? (
          <Fragment>
            <span class="p-2 bg-surface rounded-md">Play in Browser</span>
          </Fragment>
        ) : (
          <Fragment>
            <span class="p-2 bg-surface flex items-center gap-4 rounded-md">
              <Icon name="logos:microsoft-windows-icon" />
              <Icon name="logos:linux-tux" />
            </span>
          </Fragment>
        )
      }
    </div>
    <p>{game.short_text}</p>
  </div>
</a>
